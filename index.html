<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>7 Ng√†y Vibe Code Challenge | AI & Google App Script</title>
  
  <!-- Font Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    /* ... GI·ªÆ NGUY√äN TO√ÄN B·ªò CSS C·ª¶A B·∫†N NH∆Ø C≈® ... */
    :root {
      --bg-color: #030014;
      --card-bg: rgba(255, 255, 255, 0.03);
      --card-border: rgba(255, 255, 255, 0.1);
      --primary: #7c3aed;
      --primary-glow: rgba(124, 58, 237, 0.5);
      --accent: #2563eb;
      --text-main: #ffffff;
      --text-muted: #94a3b8;
      --success: #10b981;
      --warning: #f59e0b;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; scroll-behavior: smooth; }
    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-main);
      overflow-x: hidden;
      line-height: 1.6;
      background-image: radial-gradient(circle at 15% 50%, rgba(124, 58, 237, 0.08), transparent 25%), radial-gradient(circle at 85% 30%, rgba(37, 99, 235, 0.08), transparent 25%);
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    .text-gradient { background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .text-purple { color: #a78bfa; }
    .text-center { text-align: center; }
    .flex-center { display: flex; justify-content: center; align-items: center; }
    .btn { display: inline-block; padding: 14px 32px; border-radius: 50px; font-weight: 600; text-decoration: none; transition: all 0.3s ease; cursor: pointer; border: none; font-size: 1rem; }
    .btn-primary { background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%); color: white; box-shadow: 0 0 20px rgba(124, 58, 237, 0.3); }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 0 30px rgba(124, 58, 237, 0.5); }
    .section-padding { padding: 80px 0; }
    header { padding: 20px 0; position: fixed; width: 100%; top: 0; z-index: 100; backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.05); }
    .nav-logo { font-weight: 800; font-size: 1.2rem; letter-spacing: -0.5px; }
    .hero { padding-top: 160px; padding-bottom: 100px; text-align: center; position: relative; }
    .hero h1 { font-size: 3.5rem; line-height: 1.1; font-weight: 800; margin-bottom: 24px; letter-spacing: -1px; }
    .hero p { font-size: 1.2rem; color: var(--text-muted); max-width: 700px; margin: 0 auto 40px; }
    .countdown-box { display: flex; justify-content: center; gap: 20px; margin-top: 50px; }
    .time-item { background: var(--card-bg); border: 1px solid var(--card-border); padding: 15px 25px; border-radius: 12px; min-width: 100px; backdrop-filter: blur(10px); }
    .time-val { font-size: 2rem; font-weight: 700; display: block; line-height: 1; }
    .time-label { font-size: 0.8rem; color: var(--text-muted); text-transform: uppercase; margin-top: 5px; display: block; }
    .curriculum-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-top: 40px; }
    .card { background: var(--card-bg); border: 1px solid var(--card-border); padding: 30px; border-radius: 20px; transition: 0.3s; }
    .card:hover { border-color: rgba(255,255,255,0.3); transform: translateY(-5px); }
    .day-badge { background: rgba(255,255,255,0.1); padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; margin-bottom: 15px; display: inline-block; }
    .pricing-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 30px; margin-top: 50px; }
    .pricing-card { flex: 1; min-width: 300px; max-width: 400px; background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 24px; padding: 40px; position: relative; display: flex; flex-direction: column; }
    .pricing-card.vip { border: 1px solid var(--primary); box-shadow: 0 0 30px rgba(124, 58, 237, 0.15); background: linear-gradient(180deg, rgba(124, 58, 237, 0.05) 0%, rgba(0,0,0,0) 100%); }
    .popular-tag { position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: var(--primary); color: white; padding: 4px 16px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; }
    .price { font-size: 2.5rem; font-weight: 800; margin: 20px 0 10px; }
    .price span { font-size: 1rem; color: var(--text-muted); font-weight: 400; }
    .feature-list { list-style: none; margin: 30px 0; flex-grow: 1; }
    .feature-list li { margin-bottom: 12px; display: flex; align-items: center; color: #e2e8f0; }
    .feature-list li::before { content: "‚úì"; color: var(--success); margin-right: 10px; font-weight: bold; }
    .guarantee-box { background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.2); color: #34d399; font-size: 0.85rem; padding: 10px; border-radius: 8px; margin-bottom: 20px; text-align: center; }
    .comparison-table { width: 100%; border-collapse: collapse; margin-top: 40px; color: var(--text-muted); }
    .comparison-table th, .comparison-table td { padding: 15px; border-bottom: 1px solid var(--card-border); text-align: center; }
    .comparison-table th { color: white; font-weight: 600; }
    .comparison-table td:first-child { text-align: left; color: white; }
    .form-wrapper { max-width: 600px; margin: 0 auto; background: #0f111a; border: 1px solid var(--card-border); padding: 40px; border-radius: 24px; box-shadow: 0 20px 40px rgba(0,0,0,0.5); }
    .form-group { margin-bottom: 20px; text-align: left; }
    .form-group label { display: block; margin-bottom: 8px; font-weight: 500; font-size: 0.9rem; }
    .form-control { width: 100%; padding: 14px; background: rgba(255,255,255,0.05); border: 1px solid var(--card-border); border-radius: 10px; color: white; font-family: inherit; font-size: 1rem; transition: 0.3s; }
    .form-control:focus { outline: none; border-color: var(--primary); background: rgba(124, 58, 237, 0.1); }
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); z-index: 1000; justify-content: center; align-items: center; }
    .modal.active { display: flex; }
    .modal-content { background: #111; border: 1px solid var(--primary); width: 90%; max-width: 450px; padding: 30px; border-radius: 20px; text-align: center; position: relative; box-shadow: 0 0 50px rgba(124, 58, 237, 0.2); }
    .qr-container { background: white; padding: 15px; border-radius: 15px; margin: 20px auto; width: fit-content; }
    .qr-container img { width: 220px; display: block; }
    .status-badge { display: inline-block; padding: 8px 16px; border-radius: 50px; font-size: 0.9rem; font-weight: 600; margin-top: 15px; }
    .status-pending { background: rgba(245, 158, 11, 0.1); color: var(--warning); border: 1px solid rgba(245, 158, 11, 0.3); }
    .status-success { background: rgba(16, 185, 129, 0.1); color: var(--success); border: 1px solid rgba(16, 185, 129, 0.3); }
    .loading-spinner { width: 16px; height: 16px; border: 2px solid var(--warning); border-top-color: transparent; border-radius: 50%; display: inline-block; animation: spin 1s linear infinite; margin-right: 5px; }
    @keyframes spin { to { transform: rotate(360deg); } }
    @media (max-width: 768px) { .hero h1 { font-size: 2.2rem; } .pricing-container { flex-direction: column; } }
  </style>
</head>
<body>

  <!-- (GI·ªÆ NGUY√äN HTML LAYOUT C·ª¶A B·∫†N - KH√îNG ƒê·ªîI G√å ·ªû BODY) -->
  <header>
    <div class="container flex-center" style="justify-content: space-between;">
      <div class="nav-logo text-gradient">VIBE CODE</div>
      <a href="#register-section" class="btn btn-primary" style="padding: 10px 20px; font-size: 0.9rem;">ƒêƒÉng K√Ω Ngay</a>
    </div>
  </header>
  
  <section class="hero container">
    <div class="day-badge text-purple" style="border: 1px solid rgba(167, 139, 250, 0.3);"></div>
    <h1 class="text-gradient">7 Days Challenge<br>Vibe Code With GG App Script</h1>
    <p>Ch·ªâ C·∫ßn 7 Ng√†y, T√¥i S·∫Ω Ch·ªâ Cho B·∫°n C√°ch Build App Th·∫≠t V·ªõi Google App Script & AI.</p>
    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
      <a href="#register-section" class="btn btn-primary">Tham Gia Challenge Ngay -></a>
      <a href="#curriculum" class="btn" style="border: 1px solid rgba(255,255,255,0.2); color: white;">Xem L·ªô Tr√¨nh</a>
    </div>
    <div class="countdown-box">
      <div class="time-item"><span class="time-val" id="days">00</span><span class="time-label">Ng√†y</span></div>
      <div class="time-item"><span class="time-val" id="hours">00</span><span class="time-label">Gi·ªù</span></div>
      <div class="time-item"><span class="time-val" id="minutes">00</span><span class="time-label">Ph√∫t</span></div>
      <div class="time-item"><span class="time-val" id="seconds">00</span><span class="time-label">Gi√¢y</span></div>
    </div>
    <p style="margin-top: 20px; font-size: 0.9rem; opacity: 0.7;">üìÖ Challenge di·ªÖn ra: 19/01/2026 - 24/01/2026</p>
  </section>

  <!-- ABOUT -->
  <section class="section-padding" style="background: rgba(255,255,255,0.02);">
    <div class="container text-center">
      <h2 style="font-size: 2.5rem; margin-bottom: 20px;">B·∫°n S·∫Ω L√†m ƒê∆∞·ª£c G√¨ Sau 7 Ng√†y?</h2>
      <div class="curriculum-grid">
        <div class="card"><div class="day-badge text-purple">NG√ÄY 1</div><h3>Unlimited Possibilities</h3><p style="color: var(--text-muted); font-size: 0.9rem;">Chi·∫øn l∆∞·ª£c t·ªïng quan ƒë·ªÉ build app automation.</p></div>
        <div class="card" style="border-color: var(--primary);"><div class="day-badge" style="background: var(--primary); color: white;">TR·ªåNG T√ÇM: NG√ÄY 2</div><h3 class="text-gradient">Build Your App with AI</h3><p style="color: var(--text-muted); font-size: 0.9rem;">Th·ª±c h√†nh Prompt Engineering v·ªõi AI Studio.</p></div>
        <div class="card"><div class="day-badge text-purple">NG√ÄY 3-7</div><h3>Support & Launch</h3><p style="color: var(--text-muted); font-size: 0.9rem;">Coaching 1-1, debug v√† launch app.</p></div>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="pricing" class="section-padding">
    <div class="container">
      <h2 class="text-center" style="font-size: 2.5rem; margin-bottom: 20px;">Ch·ªçn G√≥i Tham Gia</h2>
      <div class="pricing-container">
        <div class="pricing-card">
          <h3>üéØ G√ìI STANDARD</h3><div class="price">1.000.000ƒë</div>
          <div class="guarantee-box">‚úÖ Ho√†n ti·ªÅn 100% khi ho√†n th√†nh m·ª•c ti√™u</div>
          <ul class="feature-list"><li>3 bu·ªïi Zoom h·ªó tr·ª£</li><li>T√†i li·ªáu h·ªçc t·∫≠p</li><li>C·ªông ƒë·ªìng h·ªçc vi√™n</li></ul>
          <button onclick="selectPackage('standard')" class="btn" style="background: rgba(255,255,255,0.1); color: white; width: 100%;">Ch·ªçn Standard</button>
        </div>
        <div class="pricing-card vip">
          <div class="popular-tag">MOST POPULAR</div><h3 class="text-gradient">üëë G√ìI VIP</h3><div class="price">3.000.000ƒë</div>
          <div class="guarantee-box" style="color: #60a5fa; border-color: #60a5fa; background: rgba(37, 99, 235, 0.1);">üõ°Ô∏è Cam k·∫øt BUILD APP ho·∫∑c HO√ÄN TI·ªÄN</div>
          <ul class="feature-list"><li>Zoom support M·ªñI NG√ÄY</li><li>Coaching 1-1</li><li>H·ªó tr·ª£ 24/7 Priority</li></ul>
          <button onclick="selectPackage('vip')" class="btn btn-primary" style="width: 100%;">ƒêƒÉng K√Ω VIP Ngay</button>
        </div>
      </div>
    </div>
  </section>

  <!-- FORM -->
  <section id="register-section" class="section-padding" style="background: radial-gradient(circle at center, rgba(124, 58, 237, 0.1), transparent 70%);">
    <div class="container text-center">
      <div class="form-wrapper">
        <h2 style="margin-bottom: 10px;">üöÄ B·∫Øt ƒê·∫ßu H√†nh Tr√¨nh</h2>
        <p style="color: var(--text-muted); margin-bottom: 30px;">ƒêi·ªÅn th√¥ng tin ƒë·ªÉ nh·∫≠n m√£ QR</p>
        <form id="registrationForm">
          <div class="form-group"><label>H·ªç v√† T√™n</label><input type="text" class="form-control" id="name" required placeholder="Nguy·ªÖn VƒÉn A"></div>
          <div class="form-group"><label>Email</label><input type="email" class="form-control" id="email" required placeholder="email@example.com"></div>
          <div class="form-group"><label>S·ªë ƒêi·ªán Tho·∫°i</label><input type="tel" class="form-control" id="phone" required placeholder="0912345678"></div>
          <div class="form-group"><label>G√≥i ƒêƒÉng K√Ω</label>
            <select class="form-control" id="package" required>
              <option value="">-- Ch·ªçn g√≥i --</option>
              <option value="standard">Standard - 1.000.000ƒë</option>
              <option value="vip">VIP - 3.000.000ƒë</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary" id="submitBtn" style="width: 100%; margin-top: 10px;">X√°c Nh·∫≠n & Thanh To√°n</button>
        </form>
      </div>
    </div>
  </section>

  <!-- MODAL -->
  <div id="paymentModal" class="modal">
    <div class="modal-content">
      <button onclick="closeModal()" style="position: absolute; top: 15px; right: 20px; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;">√ó</button>
      <h3 class="text-gradient" style="margin-bottom: 10px;">üí≥ Qu√©t M√£ Thanh To√°n</h3>
      <div class="qr-container"><img id="qrImage" src="" alt="QR Code"></div>
      <div style="text-align: left; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; font-size: 0.9rem;">
        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;"><span style="color: var(--text-muted);">S·ªë ti·ªÅn:</span><span id="amountDisplay" style="font-weight: bold; color: var(--success);"></span></div>
        <div style="display: flex; justify-content: space-between;"><span style="color: var(--text-muted);">N·ªôi dung:</span><span style="font-weight: bold; color: var(--warning);"><span id="transactionCode"></span> <button onclick="copyCode()" style="background: none; border: 1px solid var(--text-muted); color: var(--text-muted); border-radius: 4px; padding: 2px 6px; cursor: pointer; font-size: 0.7rem;">COPY</button></span></div>
      </div>
      <div id="paymentStatus" class="status-badge status-pending"><span class="loading-spinner"></span> ƒêang ch·ªù thanh to√°n...</div>
    </div>
  </div>

  <script>
    // ===============================================
    // C·∫§U H√åNH API GOOGLE SCRIPT (THAY LINK ·ªû ƒê√ÇY)
    // ===============================================
    const API_URL = "https://script.google.com/macros/s/AKfycbyNNdLRaM1avfQVUwfPPP6jU21OvjM8NANr5t_d5oSeyAZuloGWxipKao9PlN1WegbhfA/exec";
    // V√≠ d·ª•: const API_URL = "https://script.google.com/macros/s/AKfycbx.../exec";


    // 1. COUNTDOWN
    const targetDate = new Date('2026-01-19T00:00:00').getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;
      if (distance < 0) return;
      const d = Math.floor(distance / (1000 * 60 * 60 * 24));
      const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const s = Math.floor((distance % (1000 * 60)) / 1000);
      document.getElementById('days').innerText = String(d).padStart(2, '0');
      document.getElementById('hours').innerText = String(h).padStart(2, '0');
      document.getElementById('minutes').innerText = String(m).padStart(2, '0');
      document.getElementById('seconds').innerText = String(s).padStart(2, '0');
    }
    setInterval(updateCountdown, 1000); updateCountdown();

    function selectPackage(pkg) {
      document.getElementById('package').value = pkg;
      document.getElementById('register-section').scrollIntoView();
    }

    // 2. G·ªåI API THAY V√å GOOGLE.SCRIPT.RUN
    let checkInterval;
    let currentTransCode = null;

    document.getElementById('registrationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const btn = document.getElementById('submitBtn');
      btn.disabled = true;
      btn.innerHTML = '<span class="loading-spinner"></span> ƒêang x·ª≠ l√Ω...';

      // T·∫°o FormData ƒë·ªÉ g·ª≠i ƒëi
      const form = new FormData();
      form.append('action', 'register');
      form.append('name', document.getElementById('name').value);
      form.append('email', document.getElementById('email').value);
      form.append('phone', document.getElementById('phone').value);
      form.append('package', document.getElementById('package').value);

      // Fetch API
      fetch(API_URL, { method: 'POST', body: form })
        .then(res => res.json())
        .then(data => {
          if (data.success) showModal(data);
          else { alert(data.message); btn.disabled = false; btn.innerText = 'X√°c Nh·∫≠n & Thanh To√°n'; }
        })
        .catch(err => {
          alert('L·ªói k·∫øt n·ªëi: ' + err);
          btn.disabled = false;
          btn.innerText = 'X√°c Nh·∫≠n & Thanh To√°n';
        });
    });

    function showModal(data) {
      document.getElementById('qrImage').src = data.qrUrl;
      document.getElementById('amountDisplay').innerText = new Intl.NumberFormat('vi-VN').format(data.amount) + 'ƒë';
      document.getElementById('transactionCode').innerText = data.transactionCode;
      currentTransCode = data.transactionCode;
      
      const statusEl = document.getElementById('paymentStatus');
      statusEl.className = 'status-badge status-pending';
      statusEl.innerHTML = '<span class="loading-spinner"></span> ƒêang ch·ªù thanh to√°n...';
      document.getElementById('qrImage').style.opacity = '1';
      document.getElementById('paymentModal').classList.add('active');
      startPolling();
    }

    function startPolling() {
      if(checkInterval) clearInterval(checkInterval);
      checkInterval = setInterval(() => {
        const form = new FormData();
        form.append('action', 'check_status');
        form.append('code', currentTransCode);

        fetch(API_URL, { method: 'POST', body: form })
          .then(res => res.json())
          .then(res => {
            if(res.success && res.status === 'paid') {
              clearInterval(checkInterval);
              
              // 1. Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng tr√™n giao di·ªán
              const statusEl = document.getElementById('paymentStatus');
              statusEl.className = 'status-badge status-success';
              statusEl.innerHTML = '‚úÖ THANH TO√ÅN TH√ÄNH C√îNG!';
              
              // L√†m m·ªù QR
              document.getElementById('qrImage').style.opacity = '0.3';
              
              // 2. Chuy·ªÉn h∆∞·ªõng sau 2 gi√¢y
              setTimeout(() => {
                // Th√¥ng b√°o nh·∫π tr∆∞·ªõc khi chuy·ªÉn
                statusEl.innerHTML = 'üîÑ ƒêang chuy·ªÉn sang Zalo...';
                
                // --- CHUY·ªÇN H∆Ø·ªöNG T·∫†I ƒê√ÇY ---
                window.location.href = 'https://zalo.me/g/uyaqhe591';
                
              }, 2000); // ƒê·ª£i 2 gi√¢y ƒë·ªÉ kh√°ch k·ªãp nh√¨n th·∫•y ch·ªØ Th√†nh C√¥ng
            }
          })
          .catch(console.error);
      }, 3000);
    }

    function closeModal() {
      document.getElementById('paymentModal').classList.remove('active');
      if(checkInterval) clearInterval(checkInterval);
      document.getElementById('submitBtn').disabled = false;
      document.getElementById('submitBtn').innerText = 'X√°c Nh·∫≠n & Thanh To√°n';
    }
    
    function copyCode() {
      navigator.clipboard.writeText(document.getElementById('transactionCode').innerText);
      alert("ƒê√£ copy m√£!");
    }
  </script>
</body>
</html>